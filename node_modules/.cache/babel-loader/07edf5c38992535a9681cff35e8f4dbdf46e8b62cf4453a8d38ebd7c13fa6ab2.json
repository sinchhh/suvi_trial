{"ast":null,"code":"const hexRegex = /^[-+]?0x[a-fA-F0-9]+$/;\nconst numRegex = /^([\\-\\+])?(0*)(\\.[0-9]+([eE]\\-?[0-9]+)?|[0-9]+(\\.[0-9]+([eE]\\-?[0-9]+)?)?)$/;\n// const octRegex = /0x[a-z0-9]+/;\n// const binRegex = /0x[a-z0-9]+/;\n\n//polyfill\nif (!Number.parseInt && window.parseInt) {\n  Number.parseInt = window.parseInt;\n}\nif (!Number.parseFloat && window.parseFloat) {\n  Number.parseFloat = window.parseFloat;\n}\nconst consider = {\n  hex: true,\n  leadingZeros: true,\n  decimalPoint: \"\\.\",\n  eNotation: true\n  //skipLike: /regex/\n};\n\nfunction toNumber(str) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  // const options = Object.assign({}, consider);\n  // if(opt.leadingZeros === false){\n  //     options.leadingZeros = false;\n  // }else if(opt.hex === false){\n  //     options.hex = false;\n  // }\n\n  options = Object.assign({}, consider, options);\n  if (!str || typeof str !== \"string\") return str;\n  let trimmedStr = str.trim();\n  // if(trimmedStr === \"0.0\") return 0;\n  // else if(trimmedStr === \"+0.0\") return 0;\n  // else if(trimmedStr === \"-0.0\") return -0;\n\n  if (options.skipLike !== undefined && options.skipLike.test(trimmedStr)) return str;else if (options.hex && hexRegex.test(trimmedStr)) {\n    return Number.parseInt(trimmedStr, 16);\n    // } else if (options.parseOct && octRegex.test(str)) {\n    //     return Number.parseInt(val, 8);\n    // }else if (options.parseBin && binRegex.test(str)) {\n    //     return Number.parseInt(val, 2);\n  } else {\n    //separate negative sign, leading zeros, and rest number\n    const match = numRegex.exec(trimmedStr);\n    if (match) {\n      const sign = match[1];\n      const leadingZeros = match[2];\n      let numTrimmedByZeros = trimZeros(match[3]); //complete num without leading zeros\n      //trim ending zeros for floating number\n\n      const eNotation = match[4] || match[6];\n      if (!options.leadingZeros && leadingZeros.length > 0 && sign && trimmedStr[2] !== \".\") return str; //-0123\n      else if (!options.leadingZeros && leadingZeros.length > 0 && !sign && trimmedStr[1] !== \".\") return str; //0123\n      else {\n        //no leading zeros or leading zeros are allowed\n        const num = Number(trimmedStr);\n        const numStr = \"\" + num;\n        if (numStr.search(/[eE]/) !== -1) {\n          //given number is long and parsed to eNotation\n          if (options.eNotation) return num;else return str;\n        } else if (eNotation) {\n          //given number has enotation\n          if (options.eNotation) return num;else return str;\n        } else if (trimmedStr.indexOf(\".\") !== -1) {\n          //floating number\n          // const decimalPart = match[5].substr(1);\n          // const intPart = trimmedStr.substr(0,trimmedStr.indexOf(\".\"));\n\n          // const p = numStr.indexOf(\".\");\n          // const givenIntPart = numStr.substr(0,p);\n          // const givenDecPart = numStr.substr(p+1);\n          if (numStr === \"0\" && numTrimmedByZeros === \"\") return num; //0.0\n          else if (numStr === numTrimmedByZeros) return num; //0.456. 0.79000\n          else if (sign && numStr === \"-\" + numTrimmedByZeros) return num;else return str;\n        }\n        if (leadingZeros) {\n          // if(numTrimmedByZeros === numStr){\n          //     if(options.leadingZeros) return num;\n          //     else return str;\n          // }else return str;\n          if (numTrimmedByZeros === numStr) return num;else if (sign + numTrimmedByZeros === numStr) return num;else return str;\n        }\n        if (trimmedStr === numStr) return num;else if (trimmedStr === sign + numStr) return num;\n        // else{\n        //     //number with +/- sign\n        //     trimmedStr.test(/[-+][0-9]);\n\n        // }\n        return str;\n      }\n      // else if(!eNotation && trimmedStr && trimmedStr !== Number(trimmedStr) ) return str;\n    } else {\n      //non-numeric string\n      return str;\n    }\n  }\n}\n\n/**\n * \n * @param {string} numStr without leading zeros\n * @returns \n */\nfunction trimZeros(numStr) {\n  if (numStr && numStr.indexOf(\".\") !== -1) {\n    //float\n    numStr = numStr.replace(/0+$/, \"\"); //remove ending zeros\n    if (numStr === \".\") numStr = \"0\";else if (numStr[0] === \".\") numStr = \"0\" + numStr;else if (numStr[numStr.length - 1] === \".\") numStr = numStr.substr(0, numStr.length - 1);\n    return numStr;\n  }\n  return numStr;\n}\nmodule.exports = toNumber;","map":{"version":3,"names":["hexRegex","numRegex","Number","parseInt","window","parseFloat","consider","hex","leadingZeros","decimalPoint","eNotation","toNumber","str","options","arguments","length","undefined","Object","assign","trimmedStr","trim","skipLike","test","match","exec","sign","numTrimmedByZeros","trimZeros","num","numStr","search","indexOf","replace","substr","module","exports"],"sources":["C:/Users/sinch/node_modules/strnum/strnum.js"],"sourcesContent":["const hexRegex = /^[-+]?0x[a-fA-F0-9]+$/;\nconst numRegex = /^([\\-\\+])?(0*)(\\.[0-9]+([eE]\\-?[0-9]+)?|[0-9]+(\\.[0-9]+([eE]\\-?[0-9]+)?)?)$/;\n// const octRegex = /0x[a-z0-9]+/;\n// const binRegex = /0x[a-z0-9]+/;\n\n\n//polyfill\nif (!Number.parseInt && window.parseInt) {\n    Number.parseInt = window.parseInt;\n}\nif (!Number.parseFloat && window.parseFloat) {\n    Number.parseFloat = window.parseFloat;\n}\n\n  \nconst consider = {\n    hex :  true,\n    leadingZeros: true,\n    decimalPoint: \"\\.\",\n    eNotation: true\n    //skipLike: /regex/\n};\n\nfunction toNumber(str, options = {}){\n    // const options = Object.assign({}, consider);\n    // if(opt.leadingZeros === false){\n    //     options.leadingZeros = false;\n    // }else if(opt.hex === false){\n    //     options.hex = false;\n    // }\n\n    options = Object.assign({}, consider, options );\n    if(!str || typeof str !== \"string\" ) return str;\n    \n    let trimmedStr  = str.trim();\n    // if(trimmedStr === \"0.0\") return 0;\n    // else if(trimmedStr === \"+0.0\") return 0;\n    // else if(trimmedStr === \"-0.0\") return -0;\n\n    if(options.skipLike !== undefined && options.skipLike.test(trimmedStr)) return str;\n    else if (options.hex && hexRegex.test(trimmedStr)) {\n        return Number.parseInt(trimmedStr, 16);\n    // } else if (options.parseOct && octRegex.test(str)) {\n    //     return Number.parseInt(val, 8);\n    // }else if (options.parseBin && binRegex.test(str)) {\n    //     return Number.parseInt(val, 2);\n    }else{\n        //separate negative sign, leading zeros, and rest number\n        const match = numRegex.exec(trimmedStr);\n        if(match){\n            const sign = match[1];\n            const leadingZeros = match[2];\n            let numTrimmedByZeros = trimZeros(match[3]); //complete num without leading zeros\n            //trim ending zeros for floating number\n            \n            const eNotation = match[4] || match[6];\n            if(!options.leadingZeros && leadingZeros.length > 0 && sign && trimmedStr[2] !== \".\") return str; //-0123\n            else if(!options.leadingZeros && leadingZeros.length > 0 && !sign && trimmedStr[1] !== \".\") return str; //0123\n            else{//no leading zeros or leading zeros are allowed\n                const num = Number(trimmedStr);\n                const numStr = \"\" + num;\n                if(numStr.search(/[eE]/) !== -1){ //given number is long and parsed to eNotation\n                    if(options.eNotation) return num;\n                    else return str;\n                }else if(eNotation){ //given number has enotation\n                    if(options.eNotation) return num;\n                    else return str;\n                }else if(trimmedStr.indexOf(\".\") !== -1){ //floating number\n                    // const decimalPart = match[5].substr(1);\n                    // const intPart = trimmedStr.substr(0,trimmedStr.indexOf(\".\"));\n\n                    \n                    // const p = numStr.indexOf(\".\");\n                    // const givenIntPart = numStr.substr(0,p);\n                    // const givenDecPart = numStr.substr(p+1);\n                    if(numStr === \"0\" && (numTrimmedByZeros === \"\") ) return num; //0.0\n                    else if(numStr === numTrimmedByZeros) return num; //0.456. 0.79000\n                    else if( sign && numStr === \"-\"+numTrimmedByZeros) return num;\n                    else return str;\n                }\n                \n                if(leadingZeros){\n                    // if(numTrimmedByZeros === numStr){\n                    //     if(options.leadingZeros) return num;\n                    //     else return str;\n                    // }else return str;\n                    if(numTrimmedByZeros === numStr) return num;\n                    else if(sign+numTrimmedByZeros === numStr) return num;\n                    else return str;\n                }\n\n                if(trimmedStr === numStr) return num;\n                else if(trimmedStr === sign+numStr) return num;\n                // else{\n                //     //number with +/- sign\n                //     trimmedStr.test(/[-+][0-9]);\n\n                // }\n                return str;\n            }\n            // else if(!eNotation && trimmedStr && trimmedStr !== Number(trimmedStr) ) return str;\n            \n        }else{ //non-numeric string\n            return str;\n        }\n    }\n}\n\n/**\n * \n * @param {string} numStr without leading zeros\n * @returns \n */\nfunction trimZeros(numStr){\n    if(numStr && numStr.indexOf(\".\") !== -1){//float\n        numStr = numStr.replace(/0+$/, \"\"); //remove ending zeros\n        if(numStr === \".\")  numStr = \"0\";\n        else if(numStr[0] === \".\")  numStr = \"0\"+numStr;\n        else if(numStr[numStr.length-1] === \".\")  numStr = numStr.substr(0,numStr.length-1);\n        return numStr;\n    }\n    return numStr;\n}\nmodule.exports = toNumber\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}