{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sinch\\\\suvidha\\\\src\\\\pages\\\\Profile.js\",\n  _s = $RefreshSig$();\n// This component is a page that will hold the user's data when they signed up\n\nimport React, { useState, useEffect } from 'react';\nimport { Auth, Hub } from 'aws-amplify';\nimport Container from './Container';\nimport Form from './Form';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Profile() {\n  _s();\n  useEffect(() => {\n    checkUser();\n    Hub.listen('auth', data => {\n      const {\n        payload\n      } = data;\n      if (payload.event === 'signOut') {\n        setUser(null);\n      }\n    });\n  }, []);\n  const [user, setUser] = useState(null);\n  async function checkUser() {\n    try {\n      const data = await Auth.currentUserPoolUser();\n      const userInfo = {\n        email: data.email,\n        ...data.attributes\n      };\n      setUser(userInfo);\n    } catch (err) {\n      console.log('error: ', err);\n    }\n  }\n  function signOut() {\n    Auth.signOut().catch(err => console.log('error signing out: ', err));\n  }\n  if (user) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Name: \", user.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Email: \", user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: signOut,\n        children: \"Sign Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Form, {\n    setUser: setUser\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 10\n  }, this);\n}\n_s(Profile, \"7c92aWFY8IDBFFv7t8oClPP5Upg=\");\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","Auth","Hub","Container","Form","jsxDEV","_jsxDEV","Profile","_s","checkUser","listen","data","payload","event","setUser","user","currentUserPoolUser","userInfo","email","attributes","err","console","log","signOut","catch","children","fileName","_jsxFileName","lineNumber","columnNumber","name","onClick","_c","$RefreshReg$"],"sources":["C:/Users/sinch/suvidha/src/pages/Profile.js"],"sourcesContent":["// This component is a page that will hold the user's data when they signed up\r\n\r\nimport React, { useState, useEffect } from 'react'\r\nimport { Auth, Hub } from 'aws-amplify'\r\nimport Container from './Container'\r\nimport Form from './Form'\r\n\r\nfunction Profile() {\r\n  useEffect(() => {\r\n    checkUser()\r\n    Hub.listen('auth', (data) => {\r\n      const { payload } = data\r\n      if (payload.event === 'signOut') {\r\n        setUser(null)\r\n      }\r\n    })\r\n  }, [])\r\n  const [user, setUser] = useState(null) \r\n  async function checkUser() {\r\n    try {\r\n      const data = await Auth.currentUserPoolUser()\r\n      const userInfo = { email: data.email, ...data.attributes }\r\n      setUser(userInfo)\r\n    } catch (err) { console.log('error: ', err) }\r\n  }\r\n  function signOut() {\r\n    Auth.signOut()\r\n      .catch(err => console.log('error signing out: ', err))\r\n  }\r\n  if (user) {\r\n    return (\r\n      <Container>\r\n        <h1>Profile</h1>\r\n        <h2>Name: {user.name}</h2>\r\n        <h3>Email: {user.email}</h3>\r\n        <button onClick={signOut} >Sign Out</button>\r\n      </Container>\r\n    );\r\n  }\r\n  return <Form setUser={setUser} />\r\n}\r\n\r\nexport default Profile"],"mappings":";;AAAA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,IAAI,EAAEC,GAAG,QAAQ,aAAa;AACvC,OAAOC,SAAS,MAAM,aAAa;AACnC,OAAOC,IAAI,MAAM,QAAQ;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEzB,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EACjBR,SAAS,CAAC,MAAM;IACdS,SAAS,CAAC,CAAC;IACXP,GAAG,CAACQ,MAAM,CAAC,MAAM,EAAGC,IAAI,IAAK;MAC3B,MAAM;QAAEC;MAAQ,CAAC,GAAGD,IAAI;MACxB,IAAIC,OAAO,CAACC,KAAK,KAAK,SAAS,EAAE;QAC/BC,OAAO,CAAC,IAAI,CAAC;MACf;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EACN,MAAM,CAACC,IAAI,EAAED,OAAO,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACtC,eAAeU,SAASA,CAAA,EAAG;IACzB,IAAI;MACF,MAAME,IAAI,GAAG,MAAMV,IAAI,CAACe,mBAAmB,CAAC,CAAC;MAC7C,MAAMC,QAAQ,GAAG;QAAEC,KAAK,EAAEP,IAAI,CAACO,KAAK;QAAE,GAAGP,IAAI,CAACQ;MAAW,CAAC;MAC1DL,OAAO,CAACG,QAAQ,CAAC;IACnB,CAAC,CAAC,OAAOG,GAAG,EAAE;MAAEC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,GAAG,CAAC;IAAC;EAC9C;EACA,SAASG,OAAOA,CAAA,EAAG;IACjBtB,IAAI,CAACsB,OAAO,CAAC,CAAC,CACXC,KAAK,CAACJ,GAAG,IAAIC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEF,GAAG,CAAC,CAAC;EAC1D;EACA,IAAIL,IAAI,EAAE;IACR,oBACET,OAAA,CAACH,SAAS;MAAAsB,QAAA,gBACRnB,OAAA;QAAAmB,QAAA,EAAI;MAAO;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAChBvB,OAAA;QAAAmB,QAAA,GAAI,QAAM,EAACV,IAAI,CAACe,IAAI;MAAA;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC1BvB,OAAA;QAAAmB,QAAA,GAAI,SAAO,EAACV,IAAI,CAACG,KAAK;MAAA;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC5BvB,OAAA;QAAQyB,OAAO,EAAER,OAAQ;QAAAE,QAAA,EAAE;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnC,CAAC;EAEhB;EACA,oBAAOvB,OAAA,CAACF,IAAI;IAACU,OAAO,EAAEA;EAAQ;IAAAY,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACnC;AAACrB,EAAA,CAjCQD,OAAO;AAAAyB,EAAA,GAAPzB,OAAO;AAmChB,eAAeA,OAAO;AAAA,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}