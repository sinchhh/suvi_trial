{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ConsoleLogger as Logger } from '../Logger';\nvar logger = new Logger('ClientDevice_Browser');\nexport function clientInfo() {\n  if (typeof window === 'undefined') {\n    return {};\n  }\n  return browserClientInfo();\n}\nfunction browserClientInfo() {\n  if (typeof window === 'undefined') {\n    logger.warn('No window object available to get browser client info');\n    return {};\n  }\n  var nav = window.navigator;\n  if (!nav) {\n    logger.warn('No navigator object available to get browser client info');\n    return {};\n  }\n  var platform = nav.platform,\n    product = nav.product,\n    vendor = nav.vendor,\n    userAgent = nav.userAgent,\n    language = nav.language;\n  var type = browserType(userAgent);\n  var timezone = browserTimezone();\n  return {\n    platform: platform,\n    make: product || vendor,\n    model: type.type,\n    version: type.version,\n    appVersion: [type.type, type.version].join('/'),\n    language: language,\n    timezone: timezone\n  };\n}\nexport function dimension() {\n  if (typeof window === 'undefined') {\n    logger.warn('No window object available to get browser client info');\n    return {\n      width: 320,\n      height: 320\n    };\n  }\n  return {\n    width: window.innerWidth,\n    height: window.innerHeight\n  };\n}\nfunction browserTimezone() {\n  var tzMatch = /\\(([A-Za-z\\s].*)\\)/.exec(new Date().toString());\n  return tzMatch ? tzMatch[1] || '' : '';\n}\nexport function browserType(userAgent) {\n  var operaMatch = /.+(Opera[\\s[A-Z]*|OPR[\\sA-Z]*)\\/([0-9\\.]+).*/i.exec(userAgent);\n  if (operaMatch) {\n    return {\n      type: operaMatch[1],\n      version: operaMatch[2]\n    };\n  }\n  var ieMatch = /.+(Trident|Edge)\\/([0-9\\.]+).*/i.exec(userAgent);\n  if (ieMatch) {\n    return {\n      type: ieMatch[1],\n      version: ieMatch[2]\n    };\n  }\n  var cfMatch = /.+(Chrome|Firefox|FxiOS)\\/([0-9\\.]+).*/i.exec(userAgent);\n  if (cfMatch) {\n    return {\n      type: cfMatch[1],\n      version: cfMatch[2]\n    };\n  }\n  var sMatch = /.+(Safari)\\/([0-9\\.]+).*/i.exec(userAgent);\n  if (sMatch) {\n    return {\n      type: sMatch[1],\n      version: sMatch[2]\n    };\n  }\n  var awkMatch = /.+(AppleWebKit)\\/([0-9\\.]+).*/i.exec(userAgent);\n  if (awkMatch) {\n    return {\n      type: awkMatch[1],\n      version: awkMatch[2]\n    };\n  }\n  var anyMatch = /.*([A-Z]+)\\/([0-9\\.]+).*/i.exec(userAgent);\n  if (anyMatch) {\n    return {\n      type: anyMatch[1],\n      version: anyMatch[2]\n    };\n  }\n  return {\n    type: '',\n    version: ''\n  };\n}","map":{"version":3,"names":["ConsoleLogger","Logger","logger","clientInfo","window","browserClientInfo","warn","nav","navigator","platform","product","vendor","userAgent","language","type","browserType","timezone","browserTimezone","make","model","version","appVersion","join","dimension","width","height","innerWidth","innerHeight","tzMatch","exec","Date","toString","operaMatch","ieMatch","cfMatch","sMatch","awkMatch","anyMatch"],"sources":["C:\\Users\\sinch\\node_modules\\@aws-amplify\\core\\src\\ClientDevice\\browser.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ConsoleLogger as Logger } from '../Logger';\n\nconst logger = new Logger('ClientDevice_Browser');\n\nexport function clientInfo() {\n\tif (typeof window === 'undefined') {\n\t\treturn {};\n\t}\n\n\treturn browserClientInfo();\n}\n\nfunction browserClientInfo() {\n\tif (typeof window === 'undefined') {\n\t\tlogger.warn('No window object available to get browser client info');\n\t\treturn {};\n\t}\n\n\tconst nav = window.navigator;\n\tif (!nav) {\n\t\tlogger.warn('No navigator object available to get browser client info');\n\t\treturn {};\n\t}\n\n\tconst { platform, product, vendor, userAgent, language } = nav;\n\tconst type = browserType(userAgent);\n\tconst timezone = browserTimezone();\n\n\treturn {\n\t\tplatform,\n\t\tmake: product || vendor,\n\t\tmodel: type.type,\n\t\tversion: type.version,\n\t\tappVersion: [type.type, type.version].join('/'),\n\t\tlanguage,\n\t\ttimezone,\n\t};\n}\n\nexport function dimension() {\n\tif (typeof window === 'undefined') {\n\t\tlogger.warn('No window object available to get browser client info');\n\t\treturn { width: 320, height: 320 };\n\t}\n\n\treturn {\n\t\twidth: window.innerWidth,\n\t\theight: window.innerHeight,\n\t};\n}\n\nfunction browserTimezone() {\n\tconst tzMatch = /\\(([A-Za-z\\s].*)\\)/.exec(new Date().toString());\n\treturn tzMatch ? tzMatch[1] || '' : '';\n}\n\nexport function browserType(userAgent: string) {\n\tconst operaMatch = /.+(Opera[\\s[A-Z]*|OPR[\\sA-Z]*)\\/([0-9\\.]+).*/i.exec(\n\t\tuserAgent\n\t);\n\tif (operaMatch) {\n\t\treturn { type: operaMatch[1], version: operaMatch[2] };\n\t}\n\n\tconst ieMatch = /.+(Trident|Edge)\\/([0-9\\.]+).*/i.exec(userAgent);\n\tif (ieMatch) {\n\t\treturn { type: ieMatch[1], version: ieMatch[2] };\n\t}\n\n\tconst cfMatch = /.+(Chrome|Firefox|FxiOS)\\/([0-9\\.]+).*/i.exec(userAgent);\n\tif (cfMatch) {\n\t\treturn { type: cfMatch[1], version: cfMatch[2] };\n\t}\n\n\tconst sMatch = /.+(Safari)\\/([0-9\\.]+).*/i.exec(userAgent);\n\tif (sMatch) {\n\t\treturn { type: sMatch[1], version: sMatch[2] };\n\t}\n\n\tconst awkMatch = /.+(AppleWebKit)\\/([0-9\\.]+).*/i.exec(userAgent);\n\tif (awkMatch) {\n\t\treturn { type: awkMatch[1], version: awkMatch[2] };\n\t}\n\n\tconst anyMatch = /.*([A-Z]+)\\/([0-9\\.]+).*/i.exec(userAgent);\n\tif (anyMatch) {\n\t\treturn { type: anyMatch[1], version: anyMatch[2] };\n\t}\n\n\treturn { type: '', version: '' };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}