{"ast":null,"code":"import { __asyncGenerator, __await, __awaiter, __generator, __read, __spread } from \"tslib\";\nimport { S3 } from \"../S3\";\nimport { S3Client } from \"../S3Client\";\nimport { ListObjectsV2Command } from \"../commands/ListObjectsV2Command\";\n/**\n * @private\n */\nvar makePagedClientRequest = function (client, input) {\n  var args = [];\n  for (var _i = 2; _i < arguments.length; _i++) {\n    args[_i - 2] = arguments[_i];\n  }\n  return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4 /*yield*/, client.send.apply(client, __spread([new ListObjectsV2Command(input)], args))];\n        case 1:\n          // @ts-ignore\n          return [2 /*return*/, _a.sent()];\n      }\n    });\n  });\n};\n/**\n * @private\n */\nvar makePagedRequest = function (client, input) {\n  var args = [];\n  for (var _i = 2; _i < arguments.length; _i++) {\n    args[_i - 2] = arguments[_i];\n  }\n  return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4 /*yield*/, client.listObjectsV2.apply(client, __spread([input], args))];\n        case 1:\n          // @ts-ignore\n          return [2 /*return*/, _a.sent()];\n      }\n    });\n  });\n};\nexport function paginateListObjectsV2(config, input) {\n  var additionalArguments = [];\n  for (var _i = 2; _i < arguments.length; _i++) {\n    additionalArguments[_i - 2] = arguments[_i];\n  }\n  return __asyncGenerator(this, arguments, function paginateListObjectsV2_1() {\n    var token, hasNext, page;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          token = config.startingToken || undefined;\n          hasNext = true;\n          _a.label = 1;\n        case 1:\n          if (!hasNext) return [3 /*break*/, 9];\n          input.ContinuationToken = token;\n          input[\"MaxKeys\"] = config.pageSize;\n          if (!(config.client instanceof S3)) return [3 /*break*/, 3];\n          return [4 /*yield*/, __await(makePagedRequest.apply(void 0, __spread([config.client, input], additionalArguments)))];\n        case 2:\n          page = _a.sent();\n          return [3 /*break*/, 6];\n        case 3:\n          if (!(config.client instanceof S3Client)) return [3 /*break*/, 5];\n          return [4 /*yield*/, __await(makePagedClientRequest.apply(void 0, __spread([config.client, input], additionalArguments)))];\n        case 4:\n          page = _a.sent();\n          return [3 /*break*/, 6];\n        case 5:\n          throw new Error(\"Invalid client, expected S3 | S3Client\");\n        case 6:\n          return [4 /*yield*/, __await(page)];\n        case 7:\n          return [4 /*yield*/, _a.sent()];\n        case 8:\n          _a.sent();\n          token = page.NextContinuationToken;\n          hasNext = !!token;\n          return [3 /*break*/, 1];\n        case 9:\n          return [4 /*yield*/, __await(undefined)];\n        case 10:\n          // @ts-ignore\n          return [2 /*return*/, _a.sent()];\n      }\n    });\n  });\n}","map":{"version":3,"names":["S3","S3Client","ListObjectsV2Command","makePagedClientRequest","client","input","args","_i","arguments","length","send","apply","__spread","_a","sent","makePagedRequest","listObjectsV2","paginateListObjectsV2","config","additionalArguments","token","startingToken","undefined","hasNext","ContinuationToken","pageSize","__await","page","Error","NextContinuationToken"],"sources":["C:\\Users\\sinch\\node_modules\\@aws-sdk\\client-s3\\pagination\\ListObjectsV2Paginator.ts"],"sourcesContent":["import { S3 } from \"../S3\";\nimport { S3Client } from \"../S3Client\";\nimport {\n  ListObjectsV2Command,\n  ListObjectsV2CommandInput,\n  ListObjectsV2CommandOutput,\n} from \"../commands/ListObjectsV2Command\";\nimport { S3PaginationConfiguration } from \"./Interfaces\";\nimport { Paginator } from \"@aws-sdk/types\";\n\n/**\n * @private\n */\nconst makePagedClientRequest = async (\n  client: S3Client,\n  input: ListObjectsV2CommandInput,\n  ...args: any\n): Promise<ListObjectsV2CommandOutput> => {\n  // @ts-ignore\n  return await client.send(new ListObjectsV2Command(input), ...args);\n};\n/**\n * @private\n */\nconst makePagedRequest = async (\n  client: S3,\n  input: ListObjectsV2CommandInput,\n  ...args: any\n): Promise<ListObjectsV2CommandOutput> => {\n  // @ts-ignore\n  return await client.listObjectsV2(input, ...args);\n};\nexport async function* paginateListObjectsV2(\n  config: S3PaginationConfiguration,\n  input: ListObjectsV2CommandInput,\n  ...additionalArguments: any\n): Paginator<ListObjectsV2CommandOutput> {\n  // ToDo: replace with actual type instead of typeof input.ContinuationToken\n  let token: typeof input.ContinuationToken | undefined = config.startingToken || undefined;\n  let hasNext = true;\n  let page: ListObjectsV2CommandOutput;\n  while (hasNext) {\n    input.ContinuationToken = token;\n    input[\"MaxKeys\"] = config.pageSize;\n    if (config.client instanceof S3) {\n      page = await makePagedRequest(config.client, input, ...additionalArguments);\n    } else if (config.client instanceof S3Client) {\n      page = await makePagedClientRequest(config.client, input, ...additionalArguments);\n    } else {\n      throw new Error(\"Invalid client, expected S3 | S3Client\");\n    }\n    yield page;\n    token = page.NextContinuationToken;\n    hasNext = !!token;\n  }\n  // @ts-ignore\n  return undefined;\n}\n"],"mappings":";AAAA,SAASA,EAAE,QAAQ,OAAO;AAC1B,SAASC,QAAQ,QAAQ,aAAa;AACtC,SACEC,oBAAoB,QAGf,kCAAkC;AAIzC;;;AAGA,IAAMC,sBAAsB,GAAG,SAAAA,CAC7BC,MAAgB,EAChBC,KAAgC;EAChC,IAAAC,IAAA;OAAA,IAAAC,EAAA,IAAY,EAAZA,EAAA,GAAAC,SAAA,CAAAC,MAAY,EAAZF,EAAA,EAAY;IAAZD,IAAA,CAAAC,EAAA,QAAAC,SAAA,CAAAD,EAAA;;;;;;UAGO,qBAAMH,MAAM,CAACM,IAAI,CAAAC,KAAA,CAAXP,MAAM,EAAAQ,QAAA,EAAM,IAAIV,oBAAoB,CAACG,KAAK,CAAC,GAAKC,IAAI;;UADjE;UACA,sBAAOO,EAAA,CAAAC,IAAA,EAA2D;;;;CACnE;AACD;;;AAGA,IAAMC,gBAAgB,GAAG,SAAAA,CACvBX,MAAU,EACVC,KAAgC;EAChC,IAAAC,IAAA;OAAA,IAAAC,EAAA,IAAY,EAAZA,EAAA,GAAAC,SAAA,CAAAC,MAAY,EAAZF,EAAA,EAAY;IAAZD,IAAA,CAAAC,EAAA,QAAAC,SAAA,CAAAD,EAAA;;;;;;UAGO,qBAAMH,MAAM,CAACY,aAAa,CAAAL,KAAA,CAApBP,MAAM,EAAAQ,QAAA,EAAeP,KAAK,GAAKC,IAAI;;UADhD;UACA,sBAAOO,EAAA,CAAAC,IAAA,EAA0C;;;;CAClD;AACD,OAAM,SAAiBG,qBAAqBA,CAC1CC,MAAiC,EACjCb,KAAgC;EAChC,IAAAc,mBAAA;OAAA,IAAAZ,EAAA,IAA2B,EAA3BA,EAAA,GAAAC,SAAA,CAAAC,MAA2B,EAA3BF,EAAA,EAA2B;IAA3BY,mBAAA,CAAAZ,EAAA,QAAAC,SAAA,CAAAD,EAAA;;;;;;;UAGIa,KAAK,GAA+CF,MAAM,CAACG,aAAa,IAAIC,SAAS;UACrFC,OAAO,GAAG,IAAI;;;eAEXA,OAAO;UACZlB,KAAK,CAACmB,iBAAiB,GAAGJ,KAAK;UAC/Bf,KAAK,CAAC,SAAS,CAAC,GAAGa,MAAM,CAACO,QAAQ;gBAC9BP,MAAM,CAACd,MAAM,YAAYJ,EAAE,GAA3B;UACK,qBAAA0B,OAAA,CAAMX,gBAAgB,CAAAJ,KAAA,SAAAC,QAAA,EAACM,MAAM,CAACd,MAAM,EAAEC,KAAK,GAAKc,mBAAmB;;UAA1EQ,IAAI,GAAGd,EAAA,CAAAC,IAAA,EAAoE;;;gBAClEI,MAAM,CAACd,MAAM,YAAYH,QAAQ,GAAjC;UACF,qBAAAyB,OAAA,CAAMvB,sBAAsB,CAAAQ,KAAA,SAAAC,QAAA,EAACM,MAAM,CAACd,MAAM,EAAEC,KAAK,GAAKc,mBAAmB;;UAAhFQ,IAAI,GAAGd,EAAA,CAAAC,IAAA,EAA0E;;;UAEjF,MAAM,IAAIc,KAAK,CAAC,wCAAwC,CAAC;;uCAErDD,IAAI;;UAAV,qBAAAd,EAAA,CAAAC,IAAA;;UAAAD,EAAA,CAAAC,IAAA,EAAU;UACVM,KAAK,GAAGO,IAAI,CAACE,qBAAqB;UAClCN,OAAO,GAAG,CAAC,CAACH,KAAK;;;uCAGZE,SAAS;;UADhB;UACA,sBAAAT,EAAA,CAAAC,IAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}